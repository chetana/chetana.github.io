<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Java Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Java Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="java" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Java</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">À propos de Java</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-features.html">Caractéristiques</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-history.html">Historique</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-use-cases.html">Domaines d&#8217;application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-editions.html">Éditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-evolution-support.html">Évolution et Support des différentes versions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-versions.html">Versions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../java-resources.html">Ressources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">How To</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-to/java-installation.html">Install Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-to/java-command-line.html">Command Line</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Bases de Java</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics/java-application-basics-concepts.html">Concepts basiques d&#8217;une application Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics/java-keywords.html">Mots-clés Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Types</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-primitive-types.html">Types primitifs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-object-types.html">Types objets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-operators.html">Opérateurs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-arrays.html">Tableaux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-strings.html">Strings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-enums.html">Enums</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/types/java-big-decimal.html">Big Decimal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../basics/oop/java-core-principles.html">Programmation Orientée Objet</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-access-modifiers.html">Modificateurs d&#8217;accès</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-class-members.html">Classes, Variables et Méthodes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-pass-by-value.html">Passage des paramètres par valeur</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-overloading.html">Overloading</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-overriding.html">Overriding</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-constructors.html">Constructeurs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-data-encapsulation.html">Encapsulation des données</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#oop/java-object-composition.adoc">Composition objet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-inheritance.html">Héritage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-abstract.html">Classes et Méthode Abstraites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-interface.html">Interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-polymorphism.html">Polymorphisme</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/oop/java-object-methods.html">La classe Object</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Exceptions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/exceptions/java-reliable-program.html">Fiabilité d&#8217;une application Java</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/exceptions/java-exceptions.html">Gestion des erreurs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../basics/exceptions/java-try-catch.html">Patterns try-catch</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Java</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Java</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_date_and_time_java_time"><a class="anchor" href="#_date_and_time_java_time"></a>Date and Time (java.time)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_out_with_java_util_date_and_java_util_calendar"><a class="anchor" href="#_out_with_java_util_date_and_java_util_calendar"></a>out with java.util.Date and java.util.Calendar</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Old way</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Classe</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date (Java 1.0)</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>mutable class &gt;&lt;</p>
</li>
<li>
<p>problems and limitations because of nebulous design decisions</p>
<div class="ulist">
<ul>
<li>
<p>offset of the year = 1900</p>
</li>
<li>
<p>month index starts at 0</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Date date = new Date(114, 2, 18);
System.out.println(date); // Tue Mar 18 00:00:00 CET 2014</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Calendar (Java 1.1)</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>mutable class &gt;&lt;</p>
</li>
<li>
<p>in order to replace Date but has similar problems and design flwaws that lead to error-prone code</p>
<div class="ulist">
<ul>
<li>
<p>got rid of the offset 1900</p>
</li>
<li>
<p>month index starts at 0</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Calendar calendar = Calendar.getInstance();
calendar.set(2014, Calendar.FEBRUARY, 18);</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DateFormat</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>feature only available with Date class</p>
</li>
<li>
<p>not thread-safe</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>private static final ThreadLocal&lt;DateFormat&gt; formatters = new ThreadLocal&lt;DateFormat&gt;() {
    protected DateFormat initialValue() {
        return new SimpleDateFormat("dd-MMM-yyyy");
    }
};
Date date = new Date(114, 2, 18);
System.out.println(formatters.get().format(date));</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All the flaws and inconsistencies have encouraged the use of third-party date and time libs such as <strong>Joda-Time</strong>
&#8658; <strong>Java 8 integrates many features of that lib in java.time package</strong> !
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_in_with_java_time"><a class="anchor" href="#_in_with_java_time"></a>in with java.time</h3>
<div class="paragraph">
<p><strong>Provides 2 different time representations</strong> to manage :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>different needs of humans (<em>LocalDate</em>, <em>LocalTime</em>, <em>LocalDateTime</em>)</p>
</li>
<li>
<p>and machines when operating on it. (<em>Instant</em>)</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Java 8 way</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Classe</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>LocalDate</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>an immutable object representing a plain date without the time of day</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>LocalDate date = LocalDate.parse("2014-03-18"); // parse a String
LocalDate date = LocalDate.of(2014, 3, 18); 2014-03-18
int year = date.getYear();  2014
Month month = date.getMonth(); MARCH
int day = date.getDayOfMonth(); 18
DayOfWeek dow = date.getDayOfWeek(); TUESDAY
int len = date.lengthOfMonth();  31 (days in March)
boolean leap = date.isLeapYear(); false (not a leap year)
LocalDate today = LocalDate.now(); obtains the current date from the system clock</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TemporalField</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>interface defining how to access the value of a specific field of a temporal object</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>int y = date.get(ChronoField.YEAR);
int m = date.get(ChronoField.MONTH_OF_YEAR);
int d = date.get(ChronoField.DAY_OF_MONTH);</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>LocalTime</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>an immutable object representing the time of day</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>LocalTime time = LocalTime.parse("13:45:20"); // parse a String
LocalTime time = LocalTime.of(13, 45, 20); // 13:45:20
int hour = time.getHour(); // 13
int minute = time.getMinute(); // 45
int second = time.getSecond(); // 20</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>LocalDateTime</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>an immutable object representing the date and the time without the timezone</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>LocalDateTime dt1 = LocalDateTime.of(2014, Month.MARCH, 18, 13, 45, 20); // 2014-03-18T13:45
LocalDateTime dt2 = LocalDateTime.of(date, time);
LocalDateTime dt3 = date.atTime(13, 45, 20);
LocalDateTime dt4 = date.atTime(time);
LocalDateTime dt5 = time.atDate(date);</p>
</div>
<div class="paragraph">
<p>LocalDate date1 = dt1.toLocalDate();
LocalTime time1 = dt1.toLocalTime();</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Instant</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>model time with a single large number representing a point on a continuous timeline</p>
</li>
<li>
<p>represents the number of seconds passed since the Unix epoch time (midnight of January 1, 1970 UTC)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Instant.ofEpochSeconds(3);
Instant.ofEpochSeconds(3,0);
Instant.ofEpochSeconds(2, 1_000_000_000); // 1 billion nanoseconds (1 second) after 2 seconds
Instant.ofEpochSeconds(4, -1_000_000_000); // 1 second before 4 seconds
Instant instant = Instant.ofEpochSecond(44 * 365 * 86400);
Instant now = Instant.now();</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Duration</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>creates a duration between 2 temporal objects</p>
</li>
<li>
<p>the result is in ms or ns &#8658; <strong>don’t work with LocalDate</strong> !</p>
</li>
<li>
<p>can’t mix LocalDateTime and Instant because not designed for the same purpose</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Duration d1 = Duration.between(time1, time2);
Duration d1 = Duration.between(dateTime1, dateTime2);
Duration d2 = Duration.between(instant1, instant2);</p>
</div>
<div class="paragraph">
<p>Duration threeMinutes = Duration.ofMinutes(3);
Duration threeMinutes = Duration.of(3, ChronoUnit.MINUTES);</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Period</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>model an amount of time in terms of year, months and days</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Period tenDays = Period.between(LocalDate.of(2014, 3, 8), LocalDate.of(2014, 3, 18));
Period tenDays = Period.ofDays(10);
Period threeWeeks = Period.ofWeeks(3);
Period twoYearsSixMonthsOneDay = Period.of(2, 6, 1);</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the date-time objects from the new Date and Time API are all <strong>immutable</strong> &#8594; great design choice to allow a more functional programing style, ensure thread-safety and preserve the consistency of the domain model
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Duration and Period Methods</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Méthode</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>between()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates an interval between 2 points in time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>from()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates an interval from a temporal unit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>of()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates an instance of this interval from its constituent parts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>parse()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates an instance of this interval from a String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>addTo()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates a copy of this interval adding to it the specified temporal object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>get()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reads part of the state of this interval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isNegative()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks is this interval is negative, excluding zero</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isZero()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks if this interval is zero length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minus()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates a copy of this interval with an amount of time substracted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>multipliedBy()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates a copy of this interval multiplied by the given scalar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>negated()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates a copy of this interval with the length negated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>plus()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">creates a copy of this interval with an amount of time added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>substractFrom()</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Substracts this interval from the specified temporal object</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_manipulating_dates"><a class="anchor" href="#_manipulating_dates"></a>Manipulating Dates</h4>
<div class="paragraph">
<p>Possible to manipulate in both an <strong>absolute and relative ways</strong></p>
</div>
<div class="paragraph">
<div class="title">Manipulating dates</div>
<p>|Méthode |Description</p>
</div>
<div class="paragraph">
<p>|<em>from()</em>
|creates an instance of this class from the passed temporal object</p>
</div>
<div class="paragraph">
<p>|<em>now()</em>
|creates a temporal object from the system clock</p>
</div>
<div class="paragraph">
<p>|<em>of()</em>
|creates an instance of this temporal object from its constituents parts</p>
</div>
<div class="paragraph">
<p>|<em>parse()</em>
|creates an instance of this interval from a String</p>
</div>
<div class="paragraph">
<p>|<em>atOffset()</em>
|combines this temporal object with a zone offset</p>
</div>
<div class="paragraph">
<p>|<em>atZone()</em>
|combines this temporal object with a time zone</p>
</div>
<div class="paragraph">
<p>|<em>format()</em>
|converts this temporal object into a String using the specified fomatter</p>
</div>
<div class="paragraph">
<p>|<em>get()</em>
|reads part of the state of this temporal object</p>
</div>
<div class="paragraph">
<p>|<em>minus()</em>
|creates a copy of this temporal object with an amount of time substracted</p>
</div>
<div class="paragraph">
<p>|<em>plus()</em>
|creates a copy of this temporal object with an amount of time added</p>
</div>
<div class="paragraph">
<p>|<em>with()</em>
|creates a copy of this temporal object with part of the state changed</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LocalDate date1 = LocalDate.of(2014, 3, 18); // 2014-03-18
LocalDate date2 = date1.withYear(2011); // 2011-03-18
LocalDate date3 = date2.withDayOfMonth(25); // 2011-03-25
LocalDate date4 = date3.with(ChronoField.MONTH_OF_YEAR, 9); // 2011-09-18</p>
<p class="tableblock">LocalDate date1 = LocalDate.of(2014, 3, 18); // 2014-03-18
LocalDate date2 = date1.plusWeeks(1); // 2014-03-25
LocalDate date3 = date2.minusYears(3); 2011-03-25
LocalDate date4 = date3.plus(6, ChronoUnit.MONTHS; 2011-09-25</p>
<p class="tableblock">.TemporalAdjusters (allows to perform more complex and customized date manipulations)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>dayOfWeekInMonth - creates a new date in the same month with the ordinal day of week
firstDayOfMonth - creates a new date set to the first day of the current moth
firstDayOfNextMonth - creates a new date  set to the first day of the next month
firstDayOfNextYear - creates a new date set to the first day of the next year
firstDayOfYear - creates a new date set to the first day of the current year
firstInMonth - creates a new date in the same month with the first matching day of week
lastDayOfMonth - creates a new date set to the last day of the current month
lastDayOfNextMonth - creates a new date set to the last day of the next year
lastDayOfYear - creates a new date set to the last day of the current year
lastInMonth - creates a new date in the same month with the last matching day of week
next previous - creates a new date  set to the first occurence of the specified day of week after/before the date being adjusted
nextOrSame / previousOrSame - creates a new date set to the first occurence of the specified day of week after/before the date being adjusted unless it’s already on that day, in which the same object is returned</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LocalDate date1 = LocalDate.of(2014, 3, 18); // 2014-03-18
LocalDate date2 = date1.with(nextOrSame(DayOfWeek.SUNDAY)); // 2014-03-23
LocalDate date3 = date2.with(lastDayOfMonth); // 2014-03-31</p>
<p class="tableblock">@FunctionalInterface
public interface TemporalAdjuster {
Temporal adjustInto(Temporal temporal);
}</p>
<p class="tableblock">    private static class NextWorkingDay implements TemporalAdjuster {
        @Override
        public Temporal adjustInto(Temporal temporal) {
            DayOfWeek dow = DayOfWeek.of(temporal.get(ChronoField.DAY_OF_WEEK));
            int dayToAdd = 1;
            if (dow == DayOfWeek.FRIDAY) dayToAdd = 3;
            if (dow == DayOfWeek.SATURDAY) dayToAdd = 2;
            return temporal.plus(dayToAdd, ChronoUnit.DAYS);
        }
    }</p>
<p class="tableblock">    private static void useTemporalAdjuster() {
        LocalDate date = LocalDate.of(2014, 3, 18);
        date = date.with(nextOrSame(DayOfWeek.SUNDAY));
        System.out.println(date);
        date = date.with(lastDayOfMonth());
        System.out.println(date);</p>
<p class="tableblock">        date = date.with(new NextWorkingDay());
        System.out.println(date);
        date = date.with(nextOrSame(DayOfWeek.FRIDAY));
        System.out.println(date);
        date = date.with(new NextWorkingDay());
        System.out.println(date);</p>
<p class="tableblock">        date = date.with(nextOrSame(DayOfWeek.FRIDAY));
        System.out.println(date);
        date = date.with(temporal &#8594; {
            DayOfWeek dow = DayOfWeek.of(temporal.get(ChronoField.DAY_OF_WEEK));
            int dayToAdd = 1;
            if (dow == DayOfWeek.FRIDAY) dayToAdd = 3;
            if (dow == DayOfWeek.SATURDAY) dayToAdd = 2;
            return temporal.plus(dayToAdd, ChronoUnit.DAYS);
        });
        System.out.println(date);
    }</p>
<p class="tableblock">==== Parsing and Formatting dates with java.time.format.DateTimeFormatter
* thread-safe in comparison to the old DateFormat class</p>
<p class="tableblock">LocalDate date = LocalDate.of(2014, 3, 18);
String s1 = date.format(DateTimeFormatter.BASIC_ISO_DATE); // 20140318
String s2 = date.format(DateTimeFormatter.ISO_LOCAL)DATE); // 2014-03-18</p>
<p class="tableblock">DateTimeFormatter formatter = DateTimeFormatter.ofPattern("dd/MM/yyyy");
LocalDate date1 = LocalDate.of(2014, 3, 18);
String formattedDate = date1.format(formatter);
LocalDate date2 = LocalDate.parse(formattedDate, formatter);</p>
<p class="tableblock">DateTimeFormatter italianFormatter =
DateTimeFormatter.ofPattern("d. MMMM yyyy", Locale.ITALIAN);
LocalDate date1 = LocalDate.of(2014, 3, 18);
String formattedDate = date.format(italianFormatter); // 18. marzo 2014
LocalDate date2 = LocalDate.parse(formattedDate, italianFormatter);</p>
<p class="tableblock">DateTimeFormatter italianFormatter = new DateTimeFormatterBuilder()
.appendText(ChronoField.DAY_OF_MONTH)
.appendLiteral(". ")
.appendText(ChronoField.MONTH_OF_YEAR)
.appendLiteral(" ")
.appendText(ChronoField.YEAR)
.parseCaseInsensitive()
.toFormatter(Locale.ITALIAN);</p>
<p class="tableblock">==== Working with different time zones and calendars (java.time.ZoneId)</p>
<p class="tableblock">* A Timezone is a set of rules corresponding to a region in which the standard time is the same
* 2 representations :
<strong> format “{area}/{city}”
</strong> you can also express a time zone with a fixed offset from UTC/Greenwich and apply it to a date-time object in order to localize it</p>
<p class="tableblock">* Replacement for the old java.util.TimeZone class
* Deals with Daylight Saving Time (DST)
* using alternative calendar systems different from the ISO-8601 standard system</p>
<p class="tableblock">ZoneId romeZone = ZoneId.of("Europe/Rome");
ZoneId zoneId = TimeZone.getDefault().toZoneId();
Applying a time zone to a point in time
LocalDate date = LocalDate.of(2014, Month.MARCH, 18);
ZonedDateTime zdt1 = date.atStartOfDay(romeZone);
LocalDateTime dateTime = LocalDateTime.of(2014, Month.MARCH, 18, 13, 45);
ZonedDateTime zdt2 = dateTime.atZone(romeZone);
Instant instant = Instant.now();
ZonedDateTime zdt3 = instant.atZone(romeZone);</p>
<p class="tableblock">LocalDate date = LocalDate.of(2014, Month.MARCH, 18);
JapaneseDate japaneseDate = JapaneseDate.from(date);</p>
<p class="tableblock">HijrahDate ramadanDate = HijrahDate.now().with(ChronoField.DAY_OF_MONTH, 1).with(ChronoField.MONTH_OF_YEAR, 9); // get current Hijrah date then change it to have the first day of Ramadan which is the 9th month</p>
<p class="tableblock">System.out.println(“Ramadan start on “ + IsoChronology.INSTANCE.date(ramadanDate) + “ and ends on “<br>
IsoChronology.INSTANCE.date(ramadanDate.with(TemporalAdjusters.lastDayOfMonth()))</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
